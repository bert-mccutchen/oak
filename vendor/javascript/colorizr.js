// colorizr@4.0.1 downloaded from https://ga.jspm.io/npm:colorizr@4.0.1/dist/index.mjs

var t=Object.defineProperty;var n=(n,e,r)=>e in n?t(n,e,{enumerable:true,configurable:true,writable:true,value:r}):n[e]=r;var e=(n,e)=>{for(var r in e)t(n,r,{get:e[r],enumerable:true})};var r=(t,e,r)=>n(t,typeof e!=="symbol"?e+"":e,r);var o={hsl:["h","s","l"],oklab:["l","a","b"],oklch:["l","c","h"],rgb:["r","g","b"]};var a=["hsl","oklab","oklch","rgb"];var s=Math.PI/180;var i={l:[.3963377773761749,.2158037573099136],m:[-.1055613458156586,-.0638541728258133],s:[-.0894841775298119,-1.2914855480194092]};var c={l:[.4122214708,.5363325363,.0514459929],m:[.2119034982,.6806995451,.1073969566],s:[.0883024619,.2817188376,.6299787005]};var l={l:[.2104542553,.793617785,.0040720468],a:[1.9779984951,2.428592205,.4505937099],b:[.0259040371,.7827717662,.808675766]};var u={r:[4.076741636075958,-3.307711539258063,.2309699031821043],g:[-1.2684379732850315,2.609757349287688,-.341319376002657],b:[-.0041960761386756,-.7034186179359362,1.7076146940746117]};var h=[[.8224270476,.1775729524,0],[.0331008087,.9668991913,0],[.0170720188,.0723477973,.9105801839]];var f=5;var b=180/Math.PI;var d={alpha:"alpha must be a number between 0 and 1",alphaAdjustment:"alpha must be a number between -1 and 1",amount:"amount must be a number between 0 and 100",colorRequired:"color is required",degreesRange:"degrees must be a number between -360 and 360",hueArgs:"point, chroma and h are required",hueRange:"hue must be a number between 0 and 360",input:"input is required",inputHex:"input is required and must be a hex",inputNumber:"input is required and must be a number",inputString:"input is required and must be a string",invalid:"invalid input",invalidColor:"invalid color",invalidCSS:"invalid CSS string",invalidHex:"invalid hex",invalidKey:"invalid key",invalidModel:"invalid model",invalidRange:"color value out of range",left:"left is required and must be a string",lightnessRange:"lightness must be a number between 0 and 1",options:"invalid options",paletteSize:"palette size must be at least 2",ratioRange:"ratio must be a number between 0 and 1",right:"right is required and must be a string",threshold:"threshold must be a number between 0 and 255",thresholdNormalized:"threshold must be a number between 0 and 1"};var g=80;function m(t,n){if(t)return;if(process.env.NODE_ENV!=="production"&&n===void 0)throw new Error("invariant requires an error message argument");const e=n?new Error(n):new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");e.name="colorizr";throw e}var p={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};var k=/^#(?:[\da-f]{3,4}|[\da-f]{6,8})$/i;function v(t){return Array.isArray(t)&&t.length===6}function y(t){return!!j(t)&&k.test(t)}function x(t){if(!A(t))return false;const n=Object.entries(t);return!!n.length&&n.every((([t,n])=>t==="h"?n>=0&&n<=360:t==="alpha"?n>=0&&n<=1:o.hsl.includes(t)&&n>=0&&n<=100))}function w(t){if(!A(t))return false;const n=Object.entries(t);return!!n.length&&n.every((([t,n])=>t==="l"?n>=0&&n<=100:t==="alpha"?n>=0&&n<=1:o.oklab.includes(t)&&n>=-1&&n<=1))}function M(t){if(!A(t))return false;const n=Object.entries(t);return!!n.length&&n.every((([t,n])=>t==="l"?n>=0&&n<=100:t==="alpha"?n>=0&&n<=1:o.oklch.includes(t)&&n>=0&&n<=(t==="h"?360:1)))}function $(t){return j(t)&&Object.keys(p).includes(t.toLowerCase())}function C(t){return typeof t==="number"&&!Number.isNaN(t)}function S(t,n,e){return C(t)&&t>=n&&t<=e}function A(t){if(!t)return false;const{toString:n}=Object.prototype;const e=Object.getPrototypeOf(t);return n.call(t)==="[object Object]"&&(e===null||e===Object.getPrototypeOf({}))}function q(t){if(!A(t))return false;const n=Object.entries(t);return!!n.length&&n.every((([t,n])=>t==="alpha"?n>=0&&n<=1:o.rgb.includes(t)&&n>=0&&n<=255))}function j(t,n=true){const e=typeof t==="string";return n?e&&!!t.trim().length:e}function O(t){return x(t)||q(t)||w(t)||M(t)}function E(t){m(y(t),d.inputHex);let n=t.replace("#","");if(n.length===3||n.length===4){const t=[...n];n="";t.forEach((t=>{n+=`${t}${t}`}))}const e=`#${n}`;m(y(e),d.invalidHex);return e}function N(t,n){m(O(t),d.invalid);let e=n;if(e===void 0)return t;e>1&&(e/=100);return e===1?t:{...t,alpha:e}}function L(t,n=0,e=100){return Math.min(Math.max(t,n),e)}function R(t,n){m(C(t),d.inputNumber);let e=t+n;e>360&&(e%=360);e<0&&(e+=360);return Math.abs(e)}function H(t){if(!Array.isArray(t))return t.alpha}function z(t,n,e){m(C(t),d.inputNumber);m(a.includes(n),`${d.invalidModel}${n?`: ${n}`:""}`);m(o[n].includes(e),`${d.invalidKey}${e?`: ${e}`:""}`);switch(n){case"hsl":m(o.hsl.includes(e),d.invalidKey);return["l","s"].includes(e)?L(t):L(t,0,360);case"rgb":m(o.rgb.includes(e),d.invalidKey);return L(t,0,255);
/* v8 ignore next 3  -- @preserve */default:throw new Error("Invalid inputs")}}function I(t,n){const e=o[n];const r={hsl:x,oklab:w,oklch:M,rgb:q};m(A(t)||Array.isArray(t),d.invalid);const a=Array.isArray(t)?{[e[0]]:t[0],[e[1]]:t[1],[e[2]]:t[2]}:t;m(r[n](a),`${d.invalidColor}: ${n}`);return a}function D(t,n=f,e=true){const r=new Map(Object.entries(t));for(const[t,o]of r.entries())r.set(t,F(o,n,e));return Object.fromEntries(r)}function F(t,n=2,e=true){if(!C(t)||t===0)return 0;if(e){const e=10**n;return Math.round(t*e)/e}const r=Math.abs(t);let o=Math.abs(Math.ceil(Math.log(r)/Math.LN10));o===0?o=2:o>n&&(o=n);let a=n-(o<0?0:o);a<=1&&n>1?a=2:(a>n||a===0)&&(a=n);const s=10**a;return Math.round(t*s)/s}function P(t){process.env.NODE_ENV!=="production"&&console.warn(`[colorizr] ${t}`)}var K={3:[100,500,900],4:[100,400,600,900],5:[100,300,500,700,900],6:[100,200,400,600,800,900],7:[100,200,400,500,600,800,900],8:[100,200,300,500,600,700,800,900],9:[100,200,300,400,500,600,700,800,900],10:[50,100,200,300,400,500,600,700,800,900],11:[50,100,200,300,400,500,600,700,800,900,950],12:[50,100,150,200,300,400,500,600,700,800,900,950],13:[50,100,150,200,300,400,500,600,700,800,850,900,950],14:[50,100,150,200,250,300,400,500,600,700,800,850,900,950],15:[50,100,150,200,250,300,400,500,600,700,750,800,850,900,950],16:[50,100,150,200,250,300,350,400,500,600,700,750,800,850,900,950],17:[50,100,150,200,250,300,350,400,500,600,650,700,750,800,850,900,950],18:[50,100,150,200,250,300,350,400,450,500,600,650,700,750,800,850,900,950],19:[50,100,150,200,250,300,350,400,450,500,550,600,650,700,750,800,850,900,950],20:[50,100,150,200,250,300,350,400,450,500,550,600,650,700,750,800,850,900,950,1e3]};function W(t){const n=L(Math.round(t),3,20);return K[n]}function V(t,n){m(y(t),d.inputHex);m(S(n,0,1),d.alpha);return n>=1?U(t):`${U(t)}${_(n)}`}function _(t){m(C(t),d.inputNumber);let n=t;t>1&&(n/=100);return Math.round(n*255).toString(16).padStart(2,"0")}function G(t){m(y(t),d.inputString);const n=t.substring(7,9);return n?F(parseInt(n,16)/255):1}function T(t){return F(parseInt(t,16))}function U(t){m(y(t),d.inputHex);return t.length===5?t.substring(0,4):t.substring(0,7)}function B(t){m(y(t),d.inputHex);const n=E(t).slice(1);const e=G(t);return N({r:parseInt(n.charAt(0)+n.charAt(1),16),g:parseInt(n.charAt(2)+n.charAt(3),16),b:parseInt(n.charAt(4)+n.charAt(5),16)},e)}var J={};e(J,{hex2hsl:()=>X,hex2oklab:()=>et,hex2oklch:()=>it,hex2rgb:()=>B,hsl2hex:()=>ht,hsl2oklab:()=>ft,hsl2oklch:()=>bt,hsl2rgb:()=>lt,oklab2hex:()=>pt,oklab2hsl:()=>kt,oklab2oklch:()=>at,oklab2rgb:()=>mt,oklch2hex:()=>Mt,oklch2hsl:()=>$t,oklch2oklab:()=>xt,oklch2rgb:()=>wt,rgb2hex:()=>ut,rgb2hsl:()=>Q,rgb2oklab:()=>nt,rgb2oklch:()=>st});function Q(t){const n=I(t,"rgb");const e=H(t);const r=z(n.r,"rgb","r")/255;const o=z(n.g,"rgb","g")/255;const a=z(n.b,"rgb","b")/255;const s=Math.min(r,o,a);const i=Math.max(r,o,a);const c=i-s;let l=0;let u;const h=(i+s)/2;let f;switch(i){case r:f=c?(o-a)/c:0;l=60*f;break;case o:f=(a-r)/c;l=60*f+120;break;case a:f=(r-o)/c;l=60*f+240;break;
/* v8 ignore next 2  -- @preserve */default:break}l<0&&(l=360+l);u=s===i?0:h<.5?c/(2*h):c/(2-2*h);return N({h:Math.abs(+(l%360).toFixed(2)),s:+(u*100).toFixed(2),l:+(h*100).toFixed(2)},e)}function X(t){m(y(t),d.inputHex);const n=G(t);return N(Q(B(t)),n)}var{cbrt:Y,sign:Z}=Math;function tt(t){const n=Math.abs(t);return n<.04045?t/12.92:(Z(t)||1)*((n+.055)/1.055)**2.4}function nt(t,n=f){const e=I(t,"rgb");const r=H(t);const[o,a,s]=[tt(e.r/255),tt(e.g/255),tt(e.b/255)];const i=Y(c.l[0]*o+c.l[1]*a+c.l[2]*s);const u=Y(c.m[0]*o+c.m[1]*a+c.m[2]*s);const h=Y(c.s[0]*o+c.s[1]*a+c.s[2]*s);const b=D({l:l.l[0]*i+l.l[1]*u-l.l[2]*h,a:l.a[0]*i-l.a[1]*u+l.a[2]*h,b:l.b[0]*i+l.b[1]*u-l.b[2]*h},n);return N(b,r)}function et(t,n){m(y(t),d.inputHex);const e=G(t);return N(nt(B(t),n),e)}var{atan2:rt,sqrt:ot}=Math;function at(t,n){const{l:e,a:r,b:o}=D(I(t,"oklab"));const a=H(t);const s=ot(r**2+o**2);let i=(rt(o,r)*b+360)%360;F(s*1e4)===0&&(i=0);return N(D({l:e,c:s,h:i},n),a)}function st(t,n){const e=I(t,"rgb");const r=H(t);return N(at(nt(e,n),n),r)}function it(t,n){m(y(t),d.inputHex);const e=G(t);return N(st(B(t),n),e)}function ct(t,n,e){m(C(t)&&C(n)&&C(e),d.hueArgs);let r=e;r<0&&(r+=1);r>1&&(r-=1);return F(r<1/6?t+6*(n-t)*r:r<.5?n:r<2/3?t+(n-t)*(2/3-r)*6:t,4)}function lt(t){const n=I(t,"hsl");const e=H(t);const r=F(n.h)/360;const o=F(n.s)/100;const a=F(n.l)/100;let s;let i;let c;let l;let u;if(o===0){s=a;i=a;c=a}else{u=a<.5?a*(1+o):a+o-a*o;l=2*a-u;s=ct(l,u,r+1/3);i=ct(l,u,r);c=ct(l,u,r-1/3)}return N({r:Math.round(s*255),g:Math.round(i*255),b:Math.round(c*255)},e)}function ut(t){const n=I(t,"rgb");const e=H(t);const r=`#${[n.r,n.g,n.b].map((t=>`0${Math.floor(t).toString(16)}`.slice(-2))).join("")}`;return e!==void 0&&e<1?V(r,e):r}function ht(t){const n=I(t,"hsl");const e=H(t);const r=ut(lt(n));return e!==void 0&&e<1?V(r,e):r}function ft(t,n){const e=I(t,"hsl");const r=H(t);return N(nt(lt(e),n),r)}function bt(t,n){const e=I(t,"hsl");const r=H(t);return N(st(lt(e),n),r)}var{abs:dt}=Math;function gt(t){const n=dt(t);const e=t<0?-1:1;return n>.0031308?e*(n**(1/2.4)*1.055-.055):t*12.92}function mt(t,n=0){const{l:e,a:r,b:o}=I(t,"oklab");const a=H(t);const s=(e+i.l[0]*r+i.l[1]*o)**3;const c=(e+i.m[0]*r+i.m[1]*o)**3;const l=(e+i.s[0]*r+i.s[1]*o)**3;const h=255*gt(u.r[0]*s+u.r[1]*c+u.r[2]*l);const f=255*gt(u.g[0]*s+u.g[1]*c+u.g[2]*l);const b=255*gt(u.b[0]*s+u.b[1]*c+u.b[2]*l);return N({r:L(F(h,n),0,255),g:L(F(f,n),0,255),b:L(F(b,n),0,255)},a)}function pt(t){const n=I(t,"oklab");const e=H(t);const r=ut(mt(n));return e!==void 0&&e<1?V(r,e):r}function kt(t){const n=I(t,"oklab");const e=H(t);return N(Q(mt(n)),e)}var{sin:vt,cos:yt}=Math;function xt(t,n){let{l:e,c:r,h:o}=I(t,"oklch");const a=H(t);(Number.isNaN(o)||o<0)&&(o=0);return N(D({l:e,a:r*yt(o*s),b:r*vt(o*s)},n),a)}function wt(t,n=0){const e=I(t,"oklch");const r=H(t);return N(mt(xt(e),n),r)}function Mt(t){const n=I(t,"oklch");const e=H(t);const r=ut(wt(n));return e!==void 0&&e<1?V(r,e):r}function $t(t){const n=I(t,"oklch");const e=H(t);return N(Q(wt(n)),e)}var Ct="(rgb|hsl|oklab|oklch)a?";var St="(?:\\s*[,/]\\s*|\\s+)";var At="(none|[\\d%.-]+(?:deg|grad|rad|turn)?)";var qt=new RegExp(`${Ct}\\s*\\(\\s*${At}${St}${At}${St}${At}(?:${St}${At})?\\s*\\)`,"i");function jt(t){const n=parseFloat(t);let e;e=t.endsWith("grad")?n*.9:t.endsWith("rad")?n*(180/Math.PI):t.endsWith("turn")?n*360:n;return Math.round(e*1e5)/1e5}function Ot(t){m(j(t),d.inputString);if(y(t)){const n=o.rgb;const{r:e,g:r,b:a}=B(t);const s=G(t);return{model:"rgb",[n[0]]:e,[n[1]]:r,[n[2]]:a,alpha:s<1?s:void 0}}const n=qt.exec(t);m(v(n),d.invalidCSS);const e=n[1];const r=o[e];let a=n[5]?parseFloat(n[5]):1;a>1&&(a/=100);const s=(t,n)=>{if(t==="none")return 0;const r=e==="hsl"&&n===0||e==="oklch"&&n===2;if(r)return jt(t);const o=parseFloat(t);const a=t.includes("%");if(!a)return o;if(e==="oklch"){if(n===1)return o*.4/100}else if(e==="oklab"&&(n===1||n===2))return o*.4/100;return o};const i=[s(n[2],0),s(n[3],1),s(n[4],2)];if(e==="oklab"){m(i[1]>=-.4&&i[1]<=.4,d.invalidRange);m(i[2]>=-.4&&i[2]<=.4,d.invalidRange)}else e==="oklch"&&m(i[1]>=0&&i[1]<=.4,d.invalidRange);return{model:e,[r[0]]:i[0],[r[1]]:i[1],[r[2]]:i[2],alpha:a<1?a:void 0}}var Et={oklab:kt,oklch:$t,rgb:Q};var Nt={hsl:ft,oklch:xt,rgb:nt};var Lt={hsl:bt,oklab:at,rgb:st};var Rt={hsl:lt,oklab:mt,oklch:wt};var Ht={hsl:ht,oklab:pt,oklch:Mt,rgb:ut};var zt={hsl:X,oklab:et,oklch:it,rgb:B};var It={hsl:Et,oklab:Nt,oklch:Lt,rgb:Rt};function Dt(t,n){const{alpha:e,model:r,...o}=Ot(t);["oklab","oklch"].includes(r)&&o.l>1&&(o.l=F(o.l/100,f));const a=Object.values(o);if(n==="hex"){const t=e?_(e):"";return`${Ht[r](a)}${t}`}const s=It[n]?.[r];return N(s?s(a):o,e)}function Ft(t,n){const e=G(t);return n==="hex"?`${U(t)}${e!==1?_(e):""}`:N(zt[n](t),e)}function Pt(t,n){m(j(t),d.inputString);const e=$(t)?p[t.toLowerCase()]:t;const r=n??(y(e)?"hex":Ot(e).model);return y(e)?Ft(e,r):Dt(e,r)}var Kt="0.0.98G-4g";var Wt=2.4;var Vt=.56;var _t=.57;var Gt=.65;var Tt=.62;var Ut=.2126729;var Bt=.7151522;var Jt=.072175;var Qt=.022;var Xt=1.414;var Yt=1.14;var Zt=1.14;var tn=.027;var nn=.027;var en=.1;var rn=5e-4;function on(t){return t>Qt?t:t+(Qt-t)**Xt}function an(t,n,e){return Ut*(t/255)**Wt+Bt*(n/255)**Wt+Jt*(e/255)**Wt}function sn(t,n){m(j(t),d.inputString);m(j(n),d.inputString);const e=B(Pt(t,"hex"));const r=B(Pt(n,"hex"));const o=on(an(r.r,r.g,r.b));const a=on(an(e.r,e.g,e.b));if(Math.abs(a-o)<rn)return 0;const s=a>o?(a**Vt-o**_t)*Yt:(a**Gt-o**Tt)*Zt;if(Math.abs(s)<en)return 0;const i=s>0?100*(s-tn):(s+nn)*100;return F(i,5)}function cn(t,n,e=f){m(j(t),d.left);m(j(n),d.right);const r=Pt(t,"rgb");const o=Pt(n,"rgb");const a=(r.r*299+r.g*587+r.b*114)/1e3;const s=(o.r*299+o.g*587+o.b*114)/1e3;return F(Math.abs(s-a),e)}function ln(t){m(j(t),d.inputString);const{r:n,g:e,b:r}=Pt(t,"rgb");const o=Math.max(n,e,r);const a=Math.min(n,e,r);return F((o-a)/255,4)}function un(t,n){m(j(t),d.left);m(j(n),d.right);const e=Pt(t,"rgb");const r=Pt(n,"rgb");return Math.max(e.r,r.r)-Math.min(e.r,r.r)+(Math.max(e.g,r.g)-Math.min(e.g,r.g))+(Math.max(e.b,r.b)-Math.min(e.b,r.b))}function hn(t){m(j(t),d.inputString);const{r:n,g:e,b:r}=Pt(t,"rgb");const o=[n/255,e/255,r/255];for(let t=0;t<o.length;t++)o[t]<=.04045?o[t]/=12.92:o[t]=((o[t]+.055)/1.055)**2.4;return F(.2126*o[0]+.7152*o[1]+.0722*o[2],4)}function fn(t,n){m(j(t),d.left);m(j(n),d.right);const e=hn(t);const r=hn(n);return F(e>=r?(e+.05)/(r+.05):(r+.05)/(e+.05))}function bn(t,n){m(j(t),d.left);m(j(n),d.right);const e=500;const r=125;const o=un(t,n);const a=fn(t,n);const s=cn(t,n);const i=s>=r;const c=o>=e;let l=0;i&&c?l=2:(i||c)&&(l=1);return{brightnessDifference:s,colorDifference:o,compliant:l,contrast:a,largeAA:a>=3,largeAAA:a>=4.5,normalAA:a>=4.5,normalAAA:a>=7}}function dn(t){if(y(t)||$(t))return"hex";if(x(t))return"hsl";if(w(t))return"oklab";if(M(t))return"oklch";if(q(t))return"rgb";throw new Error(d.invalid)}function gn(t,n){const e=$(t)?p[t.toLowerCase()]:t;const r=dn(e);if(r===n)return e;const o=`${r}2${n}`;const a=J[o];if(!a)throw new Error(`Converter not found for ${r} to ${n}`);return a(e)}function mn(t,n={}){m(y(t)||O(t),d.invalid);const{alpha:e,format:r="hex",precision:o=f,separator:a=" "}=n;const s=e&&e!==1?`${F(e*100)}%`:null;let i=[];let c=a;switch(r){case"hsl":{const{h:n,s:e,l:r}=gn(t,"hsl");i=[n,`${e}%`,`${r}%`];break}case"oklab":{c=" ";const{l:n,a:e,b:r}=D(gn(t,"oklab"),o);i=[`${F(n*100,o)}%`,e,r];break}case"oklch":{c=" ";const{l:n,c:e,h:r}=D(gn(t,"oklch"),o);i=[`${F(n*100,o)}%`,e,r];break}case"rgb":{const{r:n,g:e,b:r}=gn(t,"rgb");i=[n,e,r];break}default:{const n=U(gn(t,"hex"));return e&&e!==1?`${n}${_(e)}`:n}}return`${r}(${i.join(c)}${s?` / ${s}`:""})`}function pn(t,n,e){return(r,o)=>{m(j(r),d.inputString);m(S(o,0,100),d.amount);const a=Pt(r,"hsl");const s=y(r)||$(r)?"hex":Ot(r).model;return mn({...a,[t]:L(a[t]+(n==="+"?o:-o),0,100)},{format:e??s})}}function kn(t,n,e){return pn("l","-",e)(t,n)}function vn(t,n,e){return pn("s","-",e)(t,n)}function yn(t,n){m(j(t),d.inputString);const e=y(t)||$(t)?"hex":Ot(t).model;const r=Pt(t,"oklch");return mn({...r,c:0},{format:n??e,alpha:r.alpha})}function xn(t,n,e){m(j(t),d.inputString);m(S(n,-360,360),d.degreesRange);const r=Pt(t,"hsl");const o=y(t)||$(t)?"hex":Ot(t).model;return mn({...r,h:R(r.h,n)},{format:e??o})}function wn(t){m(j(t),d.inputString);const n=y(t)||$(t)?"hex":Ot(t).model;const e=Pt(t,"hex");return mn(xn(e,180),{format:n})}function Mn(t,n,e){return pn("l","+",e)(t,n)}function $n(t,n,e,r,o){if(e<1e-4)return n;if(r<1e-4)return t;let a=n-t;a>180?a-=360:a<-180&&(a+=360);let s=t+a*o;s<0?s+=360:s>=360&&(s-=360);return s}function Cn(t,n,e=.5,r){m(j(t),d.inputString);m(j(n),d.inputString);m(S(e,0,1),d.ratioRange);const o=y(t)||$(t)?"hex":Ot(t).model;const a=Pt(t,"oklch");const s=Pt(n,"oklch");const i=a.l+(s.l-a.l)*e;const c=a.c+(s.c-a.c)*e;const l=$n(a.h,s.h,a.c,s.c,e);const u=a.alpha??1;const h=s.alpha??1;const f=u+(h-u)*e;return mn({l:i,c:c,h:l},{format:r??o,alpha:f<1?f:void 0})}function Sn(t){m(!!t,d.input);const n={};if(j(t)){const{alpha:e=1}=Ot(t);const r=y(t)?"hex":Ot(t).model;n.hex=V(Pt(t,"hex"),e);n.hsl=N(Pt(t,"hsl"),e);n.oklab=N(Pt(t,"oklab"),e);n.oklch=N(Pt(t,"oklch"),e);n.rgb=N(Pt(t,"rgb"),e);n.alpha=e;n.type=r}else{if(!A(t))throw new Error(d.input);{const{alpha:e=1}=t;if(x(t)){n.hsl={h:z(t.h,"hsl","h"),s:z(t.s,"hsl","s"),l:z(t.l,"hsl","l")};n.rgb=lt(n.hsl);n.oklab=ft(n.hsl);n.oklch=bt(n.hsl);n.type="hsl"}else if(w(t)){n.hsl=kt(t);n.oklab=t;n.oklch=at(t);n.rgb=mt(t);n.type="oklab"}else if(M(t)){n.hsl=$t(t);n.oklab=xt(t);n.oklch=t;n.rgb=wt(t);n.type="oklch"}else{if(!q(t))throw new Error("invalid color");n.rgb={r:z(t.r,"rgb","r"),g:z(t.g,"rgb","g"),b:z(t.b,"rgb","b")};n.hsl=Q(n.rgb);n.oklab=nt(n.rgb);n.oklch=st(n.rgb);n.type="rgb"}n.hex=V(ht(n.hsl),e);n.hsl=N(n.hsl,e);n.oklab=N(n.oklab,e);n.oklch=N(n.oklch,e);n.rgb=N(n.rgb,e);n.alpha=e}}return n}function An(t,n,e){m(j(t),d.inputString);m(S(n,0,1),d.alpha);const r=y(t)||$(t)?"hex":Ot(t).model;const o=Pt(t,"rgb");return mn(o,{format:e??r,alpha:n})}function qn(t){m(j(t),d.inputString);if(y(t))return G(t);if(Object.keys(p).includes(t))return 1;const{alpha:n}=Ot(t);return n||1}function jn(t,n,e,r){return t>=n?e:r}function On(t,n={}){const{darkColor:e="#000000",lightColor:r="#ffffff",method:o="yiq",threshold:a}=n;m(j(t),d.inputString);switch(o){case"yiq":{const n=a??128;m(n>=0&&n<=255,d.threshold);const{r:o,g:s,b:i}=B(Pt(t,"hex"));const c=(o*299+s*587+i*114)/1e3;return c>=n?e:r}case"wcag":{const n=a??.5;m(n>=0&&n<=1,d.thresholdNormalized);const o=hn(t);return o>=n?e:r}case"contrast":{const n=fn(e,t);const o=fn(r,t);return jn(n,o,e,r)}case"oklab":{const n=a??.5;m(n>=0&&n<=1,d.thresholdNormalized);const{l:o}=et(Pt(t,"hex"));return o>=n?e:r}case"apca":{const n=Math.abs(sn(t,e));const o=Math.abs(sn(t,r));return jn(n,o,e,r)}
/* v8 ignore next 3 -- @preserve */default:throw new Error(`Unknown method: ${o}`)}}function En(t,n,e){return pn("s","+",e)(t,n)}function Nn(t,n,e){m(j(t),d.inputString);m(S(n,-1,1),d.alphaAdjustment);const r=Pt(t,"oklab");const o=F(L(qn(t)-n,0,1));return mn(r,{format:e,alpha:o})}var Ln=class{constructor(t,n={}){r(this,"alpha");r(this,"hex");r(this,"hsl");r(this,"oklab");r(this,"oklch");r(this,"rgb");r(this,"type");m(!!t,d.colorRequired);const{alpha:e,hex:o,hsl:a,oklab:s,oklch:i,rgb:c,type:l}=Sn(t);this.hex=o;this.hsl=a;this.oklab=s;this.oklch=i;this.rgb=c;this.alpha=e;this.type=n.format??l}get css(){return this.currentColor}get red(){return this.rgb.r}get green(){return this.rgb.g}get blue(){return this.rgb.b}get hue(){return this.hsl.h}get saturation(){return this.hsl.s}get lightness(){return this.hsl.l}get luminance(){return hn(this.currentColor)}get chroma(){return ln(this.currentColor)}get opacity(){return qn(this.currentColor)}get readableColor(){return On(this.currentColor)}get currentColor(){return mn(this[this.type],{format:this.type,alpha:this.alpha})}
/**
   * Get the brightness difference between this color and another.
   *
   * @param input - The color to compare against.
   * @returns The brightness difference value.
   */brightnessDifference(t){return cn(this.currentColor,t)}
/**
   * Get the color difference between this color and another.
   *
   * @param input - The color to compare against.
   * @returns The color difference value.
   */colorDifference(t){return un(this.currentColor,t)}
/**
   * Test 2 colors for WCAG compliance.
   *
   * @param input - The color to compare against.
   * @returns Analysis object with compliance information.
   */compare(t){return bn(this.currentColor,t)}
/**
   * Get the contrast ratio between this color and another.
   *
   * @param input - The color to compare against.
   * @returns The contrast ratio.
   */contrast(t){return fn(this.currentColor,t)}
/**
   * Format the color to a specific type.
   *
   * @param type - The color format to convert to.
   * @param precision - The decimal precision for the output.
   * @returns The formatted color string.
   */format(t,n){return mn(this.rgb,{alpha:this.alpha,format:t,precision:n})}
/**
   * Increase lightness.
   *
   * @param amount - A number between 0 and 100.
   * @returns The lightened color string.
   */lighten(t){return Mn(this.currentColor,t)}
/**
   * Decrease lightness.
   *
   * @param amount - A number between 0 and 100.
   * @returns The darkened color string.
   */darken(t){return kn(this.currentColor,t)}
/**
   * Increase saturation.
   *
   * @param amount - A number between 0 and 100.
   * @returns The saturated color string.
   */saturate(t){return En(this.currentColor,t)}
/**
   * Decrease saturation.
   *
   * @param amount - A number between 0 and 100.
   * @returns The desaturated color string.
   */desaturate(t){return vn(this.currentColor,t)}
/**
   * Convert to grayscale.
   *
   * @returns The grayscale color string.
   */grayscale(){return yn(this.currentColor)}
/**
   * Invert color.
   *
   * @returns The inverted color string.
   */invert(){return wn(this.currentColor)}
/**
   * Mix with another color.
   *
   * @param color - The color to mix with.
   * @param ratio - A number between 0 and 1 (0 = this color, 1 = input color).
   * @returns The mixed color string.
   */mix(t,n){return Cn(this.currentColor,t,n)}
/**
   * Add opacity to the color.
   *
   * @param alpha - A number between 0 and 1.
   * @returns The opacified color string.
   */opacify(t=.9){return An(this.currentColor,t,this.type)}
/**
   * Rotate color hue.
   *
   * @param degrees - A number between -360 and 360.
   * @returns The rotated color string.
   */rotate(t){return xn(this.currentColor,t)}
/**
   * Make the color more transparent.
   *
   * @param alpha - A number between -1 and 1.
   * @returns The transparentized color string.
   */transparentize(t=.1){return Nn(this.currentColor,t,this.type)}};function Rn(t,n){const e=Pt(t,n);return mn(e,{format:n})}function Hn(t){if(!j(t))return null;if(y(t))return"hex";if($(t))return"named";try{const{model:n}=Ot(t);return n}catch{return null}}function zn(t,n){const e=Hn(t);return e!==null&&(n===void 0||e===n)}function In(t){m(j(t),d.inputString);const n=Pt(t,"hex");const[e]=Object.entries(p).find((([,t])=>t===n))||[];return e??n}function Dn(t){const n=1e-6;return t.every((t=>t>=0-n&&t<=1+n))}function Fn(t,n){return[t[0][0]*n[0]+t[0][1]*n[1]+t[0][2]*n[2],t[1][0]*n[0]+t[1][1]*n[1]+t[1][2]*n[2],t[2][0]*n[0]+t[2][1]*n[1]+t[2][2]*n[2]]}function Pn(t,n,e){const r=Kn(t,n,e);return Fn(h,r)}function Kn(t,n,e){const r=(t+i.l[0]*n+i.l[1]*e)**3;const o=(t+i.m[0]*n+i.m[1]*e)**3;const a=(t+i.s[0]*n+i.s[1]*e)**3;return[u.r[0]*r+u.r[1]*o+u.r[2]*a,u.g[0]*r+u.g[1]*o+u.g[2]*a,u.b[0]*r+u.b[1]*o+u.b[2]*a]}function Wn(t,n=f){const{l:e,h:r}=j(t)?Pt(t,"oklch"):t;m(S(e,0,1),d.lightnessRange);m(S(r,0,360),d.hueRange);const o=1e-6;let a=0;let s=.5;while(s-a>o){const t=(a+s)/2;const{l:n,a:o,b:i}=xt({l:e,c:t,h:r},16);const c=Pn(n,o,i);Dn(c)?a=t:s=t}return F(a,n)}function Vn(t){const n=j(t)?Pt(t,"oklch"):t;return`oklch(${n.l} ${Wn(n)} ${n.h})`}function _n(t,n={}){m(j(t),d.inputString);m(A(n),d.options);const{format:e,lightness:r,saturation:o,size:a=6,type:s}=n;m(a>=2,d.paletteSize);const i=Pt(t,"hsl");const c=y(t)||$(t)?"hex":Ot(t).model;const l=[];if(s==="monochromatic"){const t=g/a;for(let n=a;n>0;n--)l.push(ht({...i,l:t*n}))}else{const n=360/a;l.push(ht({...i,l:r??i.l,s:o??i.s}));for(let e=1;e<a;e++){const a=xn(t,n*e,"hex");l.push(ht({...X(a),l:r??i.l,s:o??i.s}))}}return l.map((t=>Rn(t,e??c)))}function Gn(t,n,e){if(e&&t>n){const r=e-t+n;const o=t+Math.floor(Math.random()*r);return o>=e?o-e:o}return t+Math.floor(Math.random()*(n-t+1))}function Tn(t={}){const{format:n="hex"}=t;const e=L(t.minHue??0,0,360);const r=L(t.maxHue??360,0,360);const o=L(t.minSaturation??10,0,100);const a=L(t.maxSaturation??100,0,100);const s=L(t.minLightness??10,0,100);const i=L(t.maxLightness??90,0,100);const c={h:Gn(e,r,360),s:Gn(Math.min(o,a),Math.max(o,a)),l:Gn(Math.min(s,i),Math.max(s,i))};return mn(c,{format:n})}function Un(t,n={}){const{darkColor:e="#000000",lightColor:r="#ffffff"}=n;m(j(t),d.inputString);const o=Math.abs(sn(t,e));const a=Math.abs(sn(t,r));return o>=a?e:r}var Bn={deep:.8,neutral:.5,pastel:.3,subtle:.2,vibrant:1.25};function Jn(t){const{baseChroma:n,chromaCurve:e,hue:r,inputLightness:o,keys:a,lightnessCurve:s,lock:i,maxLightness:c,minLightness:l,mode:u}=t;const h={};const f={};if(i!==void 0&&o!==void 0){const t=a.indexOf(i);f[i]=o;if(t>0){const n=u==="light"?c:l;for(let e=0;e<t;e++){const r=e/t;f[a[e]]=n+(o-n)*r**s}}const n=a.length-1-t;if(n>0){const e=u==="light"?l:c;for(let r=t+1;r<a.length;r++){const i=(r-t)/n;f[a[r]]=o+(e-o)*i**s}}}else for(let t=0;t<a.length;t++){const n=(t/(a.length-1))**s;f[a[t]]=u==="light"?c-(c-l)*n:l+(c-l)*n}for(const t of a){const o=f[t];const a=Qn(o,n,e);const s=Wn({l:o,c:0,h:r});h[t]={l:o,c:Math.min(a,s),h:r}}return h}function Qn(t,n,e){if(e===0)return n;const r=4*t*(1-t);const o=1-e*(1-r);return n*o}function Xn(t,n={}){m(j(t),d.inputString);const{chromaCurve:e=0,format:r,lightnessCurve:o=1.5,lock:a,maxLightness:s=.97,minLightness:i=.2,mode:c="light",saturation:l,steps:u,variant:h}=n;m(s>i&&s<=1&&i>=0,"maxLightness must be greater than minLightness and within the range [0, 1].");const f=u!==void 0?L(Math.round(u),3,20):11;const b=W(f);let g=a;if(g!==void 0&&(!C(g)||!b.includes(g))){P(`lock: ${g} is not valid for steps: ${f}, ignoring`);g=void 0}const p=Pt(t,"oklch");let k;if(l!==void 0){const t=Wn(p);k=L(l,0,100)/100*t}else k=h&&Bn[h]?p.c*Bn[h]:p.c;const v=Hn(t);let y="hex";v&&(y=v==="named"?"hex":v);const x=Jn({baseChroma:k,chromaCurve:e,hue:p.h,inputLightness:g!==void 0?p.l:void 0,keys:b,lightnessCurve:o,lock:g,maxLightness:s,minLightness:i,mode:c});return Object.fromEntries(Object.entries(x).map((([t,n])=>[t,mn(n,{format:r??y})])))}function Yn(t,n){m(j(t),d.inputString);const{format:e,type:r="complementary"}=j(n)?{type:n}:n??{};const o=y(t)||$(t)?"hex":Ot(t).model;const a=[];switch(r){case"analogous":a.push(xn(t,-30),t,xn(t,30));break;case"complementary":a.push(t,xn(t,180));break;case"split":case"split-complementary":a.push(t,xn(t,150),xn(t,210));break;case"triadic":a.push(t,xn(t,120),xn(t,240));break;case"tetradic":case"rectangle":a.push(t,xn(t,60),xn(t,180),xn(t,240));break;case"square":a.push(t,xn(t,90),xn(t,180),xn(t,270));break;default:throw new TypeError("invalid type")}return a.map((t=>Rn(t,e??o)))}
/* v8 ignore next 3  -- @preserve */export{Kt as APCA_VERSION,V as addAlphaToHex,sn as apcaContrast,cn as brightnessDifference,ln as chroma,un as colorDifference,bn as compare,fn as contrast,Rn as convert,_ as convertAlphaToHex,kn as darken,Ln as default,vn as desaturate,G as extractAlphaFromHex,Ot as extractColorParts,mn as formatCSS,E as formatHex,Hn as getColorType,Wn as getOkLCHMaxChroma,Vn as getP3MaxColor,W as getScaleStepKeys,yn as grayscale,X as hex2hsl,et as hex2oklab,it as hex2oklch,B as hex2rgb,T as hexadecimalToNumber,ht as hsl2hex,ft as hsl2oklab,bt as hsl2oklch,lt as hsl2rgb,wn as invert,x as isHSL,y as isHex,w as isLAB,M as isLCH,q as isRGB,zn as isValidColor,Mn as lighten,hn as luminance,Cn as mix,In as name,pt as oklab2hex,kt as oklab2hsl,at as oklab2oklch,mt as oklab2rgb,Mt as oklch2hex,$t as oklch2hsl,xt as oklch2oklab,wt as oklch2rgb,An as opacify,qn as opacity,_n as palette,Pt as parseCSS,Tn as random,On as readableColor,Un as readableColorAPCA,U as removeAlphaFromHex,ut as rgb2hex,Q as rgb2hsl,nt as rgb2oklab,st as rgb2oklch,xn as rotate,En as saturate,Xn as scale,Yn as scheme,Nn as transparentize};

